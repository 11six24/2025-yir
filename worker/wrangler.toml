name = "ambassador-yir-queue-worker"
main = "queue-consumer.js"
compatibility_date = "2025-01-01"

# D1 Database binding (same as Pages)
[[d1_databases]]
binding = "DB"
database_name = "ambassador-yir-db"
database_id = "1bf401ce-682c-487e-b60c-8a5820b7f42e"

# Queue consumer configuration
[[queues.consumers]]
queue = "top-models-queue"
max_batch_size = 10
max_batch_timeout = 30
max_retries = 3
dead_letter_queue = "top-models-dlq"

# Environment variables (will be set separately)
# SHOPIFY_STORE_DOMAIN
# SHOPIFY_ACCESS_TOKEN
